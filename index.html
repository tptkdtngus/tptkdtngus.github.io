<!DOCTYPE html> 
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>추리 게임 - 역할 선택</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 50px;

      /* 배경 이미지 추가 */
      background-image: url('이미지/index.png');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;

      /* 화면 꽉 차게 최소 높이 설정 */
      min-height: 100vh;
      margin: 0;
    }

    h1 {
      font-size: 2em;
    }

    .role-button {
      display: block;
      margin: 10px auto;
      padding: 10px 20px;
      font-size: 1.2em;
      cursor: not-allowed; /* 기본은 비활성화 커서 */
      opacity: 0.5;       /* 비활성화 시 희미하게 */
      pointer-events: none; /* 클릭 불가 */
      transition: opacity 0.3s ease;
    }
    /* 활성화 시 스타일 */
    .role-button.enabled {
      cursor: pointer;
      opacity: 1;
      pointer-events: auto;
    }

    /* 오디오 플레이어 위치: 화면 중앙 하단 */
    #audio-container {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      background-color: rgba(255, 255, 255, 0.95);
      padding: 10px 15px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    /* 숨길 때 부드럽게 사라지도록 */
    #audio-container.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }
  </style>
</head>
<body>
  <h1>역할을 선택하세요</h1>

  <button class="role-button" onclick="goToRole('김동남')">김동남</button>
  <button class="role-button" onclick="goToRole('길 고양이')">길 고양이</button>
  <button class="role-button" onclick="goToRole('집사')">집사</button>
  <button class="role-button" onclick="goToRole('집주인의 딸')">집주인의 딸</button>
  <button class="role-button" onclick="goToRole('요리사')">요리사</button>

  <script>
    function goToRole(role) {
      const roleMap = {
        "김동남": "김동남.html",
        "길 고양이": "길고양이.html",
        "집사": "집사.html",
        "집주인의 딸": "집주인의딸.html",
        "요리사": "요리사.html"
      };
      window.location.href = roleMap[role];
    }

    window.addEventListener('DOMContentLoaded', () => {
      const audioContainer = document.getElementById('audio-container');
      const audioElem = audioContainer.querySelector('audio');
      const buttons = document.querySelectorAll('.role-button');

      // 오디오 반복 재생 설정
      audioElem.loop = true;

      // 처음엔 버튼 비활성화 (위에 CSS로 설정됨)

      // 오디오 재생 이벤트 발생 시 버튼 활성화 + 플레이어 숨김
      audioElem.addEventListener('play', () => {
        buttons.forEach(btn => btn.classList.add('enabled'));
        audioContainer.classList.add('hidden');
      }, { once: true });
    });
  </script>

  <div id="audio-container">
    <audio src="/음원/index.mp3" controls></audio>
  </div>
</body>
</html>
